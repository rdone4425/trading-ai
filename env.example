# 交易平台选择
# 当前支持：binance（币安）
# 其他平台（okx, bybit等）待开发
EXCHANGE_NAME=binance

# Binance API 配置
# 从币安账户获取：https://www.binance.com/zh-CN/my/settings/api-management
# 需要以下权限：读取、现货&杠杆交易（用于观察）、合约交易（用于观察）
BINANCE_API_KEY=your_api_key_here
BINANCE_API_SECRET=your_api_secret_here

# 交易环境: observe(观察) / testnet(测试网) / mainnet(实盘)
TRADING_ENVIRONMENT=observe

# 交易参数
# K线时间周期（1m, 3m, 5m, 15m, 30m, 1h, 2h, 4h, 6h, 8h, 12h, 1d, 3d, 1w, 1M）
TIMEFRAME=15m

# 最大持仓数量（同时持有的交易对数量）
MAX_POSITIONS=5

# 扫描配置
# 回看K线数量（用于计算技术指标，建议100-200）
LOOKBACK=100

# 默认计价货币（交易对的报价币种，如USDT, BUSD）
DEFAULT_QUOTE=USDT

# K线类型：closed(已完成K线) 或 open(进行中K线)
# closed: 使用已完成的K线，数据稳定，推荐用于分析
# open: 使用当前正在形成的K线，数据可能变化
KLINE_TYPE=closed

# 自动循环扫描
# true: 循环扫描，根据K线周期自动扫描
# false: 单次扫描后退出
AUTO_SCAN=false

# 是否保存AI分析结果到JSON文件
# true: 启用，每次分析后保存结果到JSON文件
# false: 禁用，不保存分析结果
SAVE_ANALYSIS_RESULTS=false

# 分析结果保存根目录（相对于项目根目录）
# 系统会在此目录下按日期创建子目录（格式：YYYY-MM-DD）
# 文件名格式：analysis_HHMMSS.json
ANALYSIS_RESULTS_DIR=data

# AI 并发分析配置（同时分析多少个交易对，可大幅提升速度）
# 建议: 1-5，值越大速度越快但对API有一定压力
MAX_CONCURRENT_ANALYSIS=3

# 自定义交易对（优先使用，设置后SCAN_TYPES不启用）
# 格式：逗号分隔的交易对，例如：BTCUSDT,ETHUSDT,BNBUSDT
# 支持多种格式：BTC/USDT、BTC-USDT、BTCUSDT 都会被自动解析为标准格式
# 如果留空，则使用SCAN_TYPES配置的扫描方式
CUSTOM_SYMBOLS=

# 扫描类型（仅当CUSTOM_SYMBOLS为空时使用）
# 可选：hot(热门), volume(24h成交量), gainers(涨幅), losers(跌幅)
# 多个类型用逗号分隔，合并去重后返回统一数量
SCAN_TYPES=hot,volume,gainers,losers

# 扫描返回的交易对数量上限（合并去重后的总数）
SCAN_TOP_N=20

# AI配置
# 是否启用AI分析（true: 启用, false: 仅扫描不分析）
USE_AI_ANALYSIS=true

# AI置信度阈值（0.0-1.0，只有超过此阈值的建议才会被高亮显示）
# 例如：0.6 表示只显示置信度≥60%的建议
AI_CONFIDENCE_THRESHOLD=0.6

# AI提供商配置
# AI服务提供商（可选：deepseek, modelscope, openai, claude, gemini, local, mock）
# mock: 模拟AI，用于测试，不调用真实API
AI_PROVIDER=mock

# AI API密钥（统一密钥，所有提供商共用此密钥字段）
# 不同提供商需要各自的密钥：DeepSeek密钥、ModelScope Token、OpenAI密钥等
AI_API_KEY=

# AI模型名称（可选，每个提供商有默认模型）
# DeepSeek默认: deepseek-chat
# ModelScope默认: ZhipuAI/GLM-4.6
# 如果留空，将使用提供商默认模型
AI_MODEL=


# ============================================================
# AI 提供商使用说明
# ============================================================
# 可选提供商: deepseek, modelscope, openai, claude, gemini, local, mock
#
# DeepSeek 示例:
#   AI_PROVIDER=deepseek
#   AI_API_KEY=your_deepseek_api_key
#   AI_MODEL=deepseek-chat
#   (AI_MODEL 可选，默认为 deepseek-chat)
#
# ModelScope 示例:
#   AI_PROVIDER=modelscope
#   AI_API_KEY=your_modelscope_token
#   AI_MODEL=ZhipuAI/GLM-4.6
#   (AI_MODEL 可选，默认为 ZhipuAI/GLM-4.6)
# ============================================================

# 日志配置
# 日志级别（DEBUG, INFO, WARNING, ERROR, CRITICAL）
# DEBUG: 详细调试信息
# INFO: 一般信息（推荐）
# WARNING: 警告信息
# ERROR: 错误信息
LOG_LEVEL=INFO

# 日志文件保存目录（相对于项目根目录）
LOG_DIR=logs

# 日志保留时长（小时），超过此时长的日志内容会被清理（保留文件，只清理内容）
LOG_RETENTION_HOURS=3

# 代理配置（用于需要代理访问API的场景）
# 是否使用代理（true: 启用代理, false: 直连）
USE_PROXY=false

# 代理服务器地址
PROXY_HOST=127.0.0.1

# 代理服务器端口
PROXY_PORT=7890

# 指标配置
# 格式：INDICATOR_指标名=参数1,参数2,...
# 多个参数用逗号分隔，多个周期会生成多个指标
# 
# 📌 注意：如果不需要某个指标，请在行首加 # 注释掉该行
#         被注释的指标将不会被计算
#
# 示例：
#   INDICATOR_ema=7,20,120     # 生成 ema_7, ema_20, ema_120
#   INDICATOR_ma=20,30,60      # 生成 ma_20, ma_30, ma_60
#   INDICATOR_rsi=14           # 生成 rsi
#   INDICATOR_macd=12,26,9     # 生成 macd, macd_signal, macd_hist
#
# 当前启用的指标：
INDICATOR_ema=7,20,120
INDICATOR_rsi=14
INDICATOR_atr=14
#
# 如果不需要某个指标，注释掉即可：
# INDICATOR_ma=20,30,60        # 这个指标被注释，不会计算
# INDICATOR_macd=12,26,9       # 这个指标被注释，不会计算

# ============= 风险管理配置 =============
# 账户余额（USDT），用于计算仓位大小和杠杆
# ⚠️  注意：系统会优先从交易所实时获取账户余额
# 此配置值仅在以下情况使用：
#   1. 无法连接到交易所
#   2. 无法获取账户余额
#   3. 账户余额为0或无效
# 建议设置为接近实际余额的值，作为回退值
ACCOUNT_BALANCE=10000

# 单笔交易风险百分比（账户余额的百分比）
# 例如：1.0 表示每笔交易最多亏损账户余额的1%
# 建议范围：0.5-2.0（保守型0.5-1.0，激进型1.0-2.0）
RISK_PERCENT=1.0

# 单笔交易最大亏损比例（账户余额的比例，0.02表示2%）
# 这是另一个风险控制参数，用于限制单笔交易的最大亏损
# 建议范围：0.01-0.05（1%-5%）
MAX_LOSS_PER_TRADE=0.02

# 风险回报比（止盈距离 / 止损距离）
# 例如：2.0 表示止盈距离是止损距离的2倍（盈利是亏损的2倍）
# 建议范围：1.5-3.0（值越大，目标盈利越高，但实现难度也越大）
RISK_REWARD_RATIO=2.0

# ATR倍数（用于计算止损距离）
# 止损距离 = ATR × ATR_MULTIPLIER
# 例如：2.0 表示止损距离是ATR的2倍
# 建议范围：1.5-3.0（值越大，止损距离越远，触发概率越低）
ATR_MULTIPLIER=2.0

# 默认杠杆倍数（1-125，建议根据风险承受能力设置）
# 保守型：5-10x，稳健型：10-20x，激进型：20-50x
DEFAULT_LEVERAGE=10

# 最大杠杆倍数（1-125）
# 系统计算建议杠杆时，不会超过此值
# 币安合约最高支持125x，但建议根据风险承受能力设置
MAX_LEVERAGE=10

# 最大仓位大小（账户余额的比例，0.1表示10%）
# 例如：0.3 表示单个交易对最多占用账户余额的30%
MAX_POSITION_SIZE=0.3

# ============= 学习和复盘配置（辅助分析改进） =============
# 是否启用自动学习（扫描后自动从分析结果中提取知识点学习）
# true: 启用，扫描后自动触发学习功能
# false: 禁用，不进行学习
ENABLE_AUTO_LEARNING=true

# 是否启用自动复盘（扫描后自动复盘历史交易，提取经验教训）
# true: 启用，需要API权限获取交易历史
# false: 禁用，不进行复盘
ENABLE_AUTO_REVIEW=true

# 自动学习主题（逗号分隔，如果为空则根据分析结果自动生成）
# 例如：EMA指标使用,风险管理,趋势判断
# 如果留空，系统会根据当前分析结果自动生成学习主题
AUTO_LEARNING_TOPICS=

